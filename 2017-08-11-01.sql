
SELECT TOP 1000 * FROM SORDERQ 
SELECT TOP 1000 * FROM SORDER




SELECT TOP 1000
		T1.SOHNUM_0,
		T1.BPCORD_0,
		T1.ITMREF_0,
		T1.QTY_0,
		T1.DLVQTY_0,
		(T1.QTY_0 - T1.DLVQTY_0) LFTQTY_0,
		T1.ZRMK_0,
		T1.ZCUSNUM_0,
		T1.ZCUSNUMLIN_0,
		T2.BPCNAM_0,
		T2.ZREMARK_0,
		T2.ZCUSNUMH_0
FROM SORDERQ T1
	LEFT JOIN SORDER T2 ON T1.SOHNUM_0 = T2.SOHNUM_0
WHERE T1.SALFCY_0 = '0101'
		AND T1.SOQSTA_0 <> '3'
		AND T2.ORDSTA_0 = '1'
		AND T1.SOHNUM_0 = '0101SOH17080063'


SELECT TOP 1000 T1.SOHNUM_0,T1.BPCORD_0,T1.ITMREF_0,T1.QTY_0,T1.DLVQTY_0,(T1.QTY_0 - T1.DLVQTY_0) LFTQTY_0,T1.ZRMK_0,T1.ZCUSNUM_0,T1.ZCUSNUMLIN_0,T2.BPCNAM_0,T2.ZREMARK_0,T2.ZCUSNUMH_0 FROM SORDERQ T1 LEFT JOIN SORDER T2 ON T1.SOHNUM_0 = T2.SOHNUM_0 WHERE T1.SALFCY_0 = '0101'AND T1.SOQSTA_0 <> '3'AND T2.ORDSTA_0 = '1' AND T1.SOHNUM_0 = '0101SOH17080063'
SELECT TOP 1000 T1.SOHNUM_0,T1.BPCORD_0,T1.ITMREF_0,T1.QTY_0,T1.DLVQTY_0,(T1.QTY_0 - T1.DLVQTY_0) LFTQTY_0,T1.ZRMK_0,T1.ZCUSNUM_0,T1.ZCUSNUMLIN_0,T2.BPCNAM_0,T2.ZREMARK_0,T2.ZCUSNUMH_0 FROM SORDERQ T1 LEFT JOIN SORDER T2 ON T1.SOHNUM_0 = T2.SOHNUM_0 WHERE T1.SALFCY_0 = '0101'AND T1.SOQSTA_0 <> '3'AND T2.ORDSTA_0 = '1' AND T1.SOHNUM_0 = '0101SOH17050632' AND T1.CREUSR_0 = '0078'
SELECT TOP 1000 T1.SOHNUM_0 AS N'销售订单号',T1.BPCORD_0 AS N'客户编码',T2.BPCNAM_0 AS N'客户名称',T1.ITMREF_0 AS N'产品编码',T3.ITMDES1_0 AS N'产品名称',T1.QTY_0 AS N'订单数量',T1.DLVQTY_0 AS N'已发货数量',(T1.QTY_0 - T1.DLVQTY_0) AS N'待发货数量',T1.ZRMK_0 AS N'备注',T1.ZCUSNUM_0 AS N'客户订单号',T1.ZCUSNUMLIN_0 AS N'客户订单行号',T2.ZREMARK_0 AS N'摘要',T2.ZCUSNUMH_0 AS N'摘要' 
FROM SORDERQ T1 
LEFT JOIN SORDER T2 ON T1.SOHNUM_0 = T2.SOHNUM_0 
LEFT JOIN ITMMASTER T3 ON T1.ITMREF_0 = T3.ITMREF_0 
WHERE T1.SALFCY_0 = '0101'
AND T1.SOQSTA_0 <> '3'
AND T2.ORDSTA_0 = '1' 
AND T1.SOHNUM_0 = '0101SOH17080060' 
AND (T1.ZRMK_0 LIKE N'%两点%' OR T1.ZCUSNUM_0 LIKE N'%两点%' OR T1.ZCUSNUM_0 LIKE N'%两点%' OR T1.ZCUSNUMLIN_0 LIKE N'%两点%' OR T2.ZREMARK_0 LIKE N'%两点%' OR T2.ZCUSNUMH_0 LIKE N'%两点%')

SELECT TOP 1000 T1.SOHNUM_0 AS N'销售订单号',
				T1.BPCORD_0 AS N'客户编码',
				T2.BPCNAM_0 AS N'客户名称',
				T1.ITMREF_0 AS N'产品编码',
				T3.ITMDES1_0 AS N'产品名称',
				T1.QTY_0 AS N'订单数量',
				T1.DLVQTY_0 AS N'已发货数量',
				(T1.QTY_0 - T1.DLVQTY_0) AS N'待发货数量',
				T1.ZRMK_0 AS N'备注',
				T1.ZCUSNUM_0 AS N'客户订单号',
				T1.ZCUSNUMLIN_0 AS N'客户订单行号',
				T2.ZREMARK_0 AS N'摘要',
				T2.ZCUSNUMH_0 AS N'摘要' 
FROM SORDERQ T1 
LEFT JOIN SORDER T2 ON T1.SOHNUM_0 = T2.SOHNUM_0 
LEFT JOIN ITMMASTER T3 ON T1.ITMREF_0 = T3.ITMREF_0 
WHERE T1.SALFCY_0 = '0101'
AND T1.SOQSTA_0 <> '3'
AND T2.ORDSTA_0 = '1' 
AND (T1.ZRMK_0 LIKE N'%导电嘴%' OR T1.ZCUSNUM_0 LIKE N'%导电嘴%' OR T1.ZCUSNUM_0 LIKE N'%导电嘴%' OR T1.ZCUSNUMLIN_0 LIKE N'%导电嘴%' OR T2.ZREMARK_0 LIKE N'%导电嘴%' OR T2.ZCUSNUMH_0 LIKE N'%导电嘴%')



SELECT TOP 1000 * FROM SORDERQ

SELECT T1.ITMREF_0,
		T2.ITMDES1_0,
		T1.BPCORD_0,
FROM SORDERQ T1
	LEFT JOIN ITMMASTER T2 ON T1.ITMREF_0 = T2.ITMREF_0
WHERE T1.SOHNUM_0 = N'0101SOH17080060'
	AND T1.SOPLIN_0 = N'1000'



SELECT * FROM SORDER
SELECT * FROM CONTACTCRM
SELECT * FROM CONTACT WHERE BPANUM_0 IN('CHN-GD-4634','CHN-GD-4653','CHN-JS-4032','CHN-JS-8003','CHN-JS-8004','CHN-JS-8007','CHN-JS-8010','CHN-JS-8056','CHN-SH-4015','CHN-ZJ-4662','ZZ-ITA-2004')
SELECT CNTNUM_0,COUNT(CNTNUM_0) FROM CONTACTCRM GROUP BY CNTNUM_0 HAVING COUNT(CNTNUM_0) >1
SELECT BPANUM_0,COUNT(BPANUM_0) FROM CONTACT GROUP BY BPANUM_0 HAVING COUNT(BPANUM_0) >1



SELECT TOP 1000 
		T1.SOHNUM_0 AS N'销售订单号',
		T1.BPCORD_0 AS N'客户编码',
		T2.BPCNAM_0 AS N'客户名称',
		T1.ITMREF_0 AS N'产品编码',
		T3.ITMDES1_0 AS N'产品名称',
		T1.QTY_0 AS N'订单数量',
		T1.DLVQTY_0 AS N'已发货数量',
		(T1.QTY_0 - T1.DLVQTY_0) AS N'待发货数量',
		T1.ZRMK_0 AS N'备注',
		T1.ZCUSNUM_0 AS N'客户订单号',
		T1.ZCUSNUMLIN_0 AS N'客户订单行号',
		T2.ZREMARK_0 AS N'摘要',
		T2.ZCUSNUMH_0 AS N'摘要',
		T4.CNTLNA_0 AS N'联系人',
		T4.CNTMOB_0 AS N'联系人电话',
		T5.TEL_0 AS N'联系电话'
FROM SORDERQ T1 
	LEFT JOIN SORDER T2 ON T1.SOHNUM_0 = T2.SOHNUM_0 
	LEFT JOIN ITMMASTER T3 ON T1.ITMREF_0 = T3.ITMREF_0
	LEFT JOIN CONTACTCRM T4 ON T2.CNTNAM_0 = T4.CNTNUM_0
	LEFT JOIN CONTACT T5 ON T2.BPCORD_0 = T5.BPANUM_0 AND T2.CNTNAM_0 = T5.CCNCRM_0
WHERE T1.SALFCY_0 = '0101'
	AND T1.SOQSTA_0 <> '3'
	AND T2.ORDSTA_0 = '1' 
	AND T1.SOHNUM_0 = N'0101SOH17080060'

SELECT * FROM ZTSDELIVERYD
INSERT INTO ZTSDELIVERYD Values(N'0101SOH17080162',N'ZZ-ITA-2056',N'TER   s.r.l.',N'ICT2099-TE003',N'焊枪M1X-15S/4米/弹性针/TER/Z0705AA',N'40',N'0',N'40',N' ',N' ',N'0',N' ',N' ',N'',N'',N'',N'',N'',N'',GETDATE(),GETDATE(),NEWID())


INSERT INTO ZTSDELIVERYD 
		(SOHNUM_0,
		BPCORD_0,
		BPCNAM_0,
		ITMREF_0,
		ITMDES1_0,
		QTY_0,
		DLVQTY_0,
		LFTQTY_0,
		ZRMK_0_0,
		ZCUSNUM_0,
		ZCUSNUMLIN_0,
		ZREMARK_0,
		ZCUSNUMH_0,
		CNTLNA_0,
		CNTMOB_0,
		TEL_0,
		CREDATTIM_0,
		UPDDATTIM_0,
		AUUID_0,
		CREUSR_0,
		UPDUSR_0,
		ROWID) 
Values(N'ZZ-ITA-2056',
		N'TER   s.r.l.',
		N'ICT2099-TE003',
		N'焊枪M1X-15S/4米/弹性针/TER/Z0705AA',
		N'40',
		N'0',
		N'40',
		N' ',
		N' ',
		N'0',
		N' ',
		N' ',
		N'',
		N'',
		N'',
		N'',
		N'',
		NEWID(),
		GETDATE(),
		GETDATE(),
		N'0078',
		N'0078')

sp_help ZTSDELIVERYD
SELECT * FROM ZTSDELIVERYD
delete from ZTSDELIVERYD
INSERT INTO ZTSDELIVERYD (SOHNUM_0,BPCORD_0,BPCNAM_0,ITMREF_0,ITMDES1_0,QTY_0,DLVQTY_0,LFTQTY_0,ZRMK_0_0,ZCUSNUM_0,ZCUSNUMLIN_0,ZREMARK_0,ZCUSNUMH_0,CNTLNA_0,CNTMOB_0,TEL_0,CREDATTIM_0,UPDDATTIM_0,AUUID_0,CREUSR_0,UPDUSR_0) Values(N'0101SOH17080062',N'CHN-SH-4037',N'上海沪工焊接集团股份有限公司',N'IOE6975-01',N'焊枪/TIG150/4M/8mmq M16x1.5/HUGO',N'7',N'0',N'7',N'2.20.08.829',N'3003-20170800220',N'0',N' ',N' ',N'邹伟梅',N'13764891773',N'',GETDATE(),GETDATE(),NEWID(),N'0078',N'0078')
SELECT * FROM AUTILIS





SELECT TOP 100 * FROM SORDERQ

SELECT TOP 1000 T1.SOHNUM_0 AS N'销售订单号',T1.BPCORD_0 AS N'客户编码',T2.BPCNAM_0 AS N'客户名称',T1.ITMREF_0 AS N'产品编码',T3.ITMDES1_0 AS N'产品名称',T1.QTY_0 AS N'订单数量',T1.DLVQTY_0 AS N'已发货数量',(T1.QTY_0 - T1.DLVQTY_0) AS N'待发货数量',T1.ZRMK_0 AS N'备注',T1.ZCUSNUM_0 AS N'客户订单号',T1.ZCUSNUMLIN_0 AS N'客户订单行号',T2.ZREMARK_0 AS N'摘要',T2.ZCUSNUMH_0 AS N'摘要',T4.CNTLNA_0 AS N'联系人',T4.CNTMOB_0 AS N'联系人电话', T1.DEMDLVDAT_0 AS N'交期'T5.TEL_0 AS N'联系电话', T2.BPCADDLIG_0 + BPCADDLIG_1 + BPCADDLIG_1 AS N'地址'FROM SORDERQ T1 LEFT JOIN SORDER T2 ON T1.SOHNUM_0 = T2.SOHNUM_0 LEFT JOIN ITMMASTER T3 ON T1.ITMREF_0 = T3.ITMREF_0 LEFT JOIN CONTACTCRM T4 ON T2.CNTNAM_0 = T4.CNTNUM_0 LEFT JOIN CONTACT T5 ON T2.BPCORD_0 = T5.BPANUM_0 AND T2.CNTNAM_0 = T5.CCNCRM_0 WHERE T1.SALFCY_0 = '0101'AND T1.SOQSTA_0 <> '3'AND T2.ORDSTA_0 = '1' AND T2.BPCNAM_0 LIKE N'%沪工%'


INSERT INTO ZTSDELIVERYD (SOHNUM_0,BPCORD_0,BPCNAM_0,ITMREF_0,ITMDES1_0,QTY_0,DLVQTY_0,LFTQTY_0,ZRMK_0_0,ZCUSNUM_0,ZCUSNUMLIN_0,ZREMARK_0,ZCUSNUMH_0,CNTLNA_0,CNTMOB_0,TEL_0,BPCADDLIG_0,CREDATTIM_0,UPDDATTIM_0,AUUID_0,CREUSR_0,UPDUSR_0) Values(N'0101SOH17080062',N'CHN-SH-4037',N'上海沪工焊接集团股份有限公司',N'IOE6975-01',N'焊枪/TIG150/4M/8mmq M16x1.5/HUGO',N'7',N'0',N'7',N'2.20.08.829',N'3003-20170800220',N'0',N' ',N' ',N'邹伟梅',N'13764891773',N'021-59715999',N'2017/8/14',N'2',N'CP',N'',GETDATE(),GETDATE(),NEWID(),N'0078',N'0078')


SELECT TOP 1000 T1.SOHNUM_0 AS N'销售订单号',T1.BPCORD_0 AS N'客户编码',T2.BPCNAM_0 AS N'客户名称',T1.ITMREF_0 AS N'产品编码',T3.ITMDES1_0 AS N'产品名称',T1.QTY_0 AS N'订单数量',T1.DLVQTY_0 AS N'已发货数量',(T1.QTY_0 - T1.DLVQTY_0) AS N'待发货数量',T1.ZRMK_0 AS N'备注',T1.ZCUSNUM_0 AS N'客户订单号',T1.ZCUSNUMLIN_0 AS N'客户订单行号',T2.ZREMARK_0 AS N'摘要',T2.ZCUSNUMH_0 AS N'摘要',T4.CNTLNA_0 AS N'联系人',T4.CNTMOB_0 AS N'联系人电话',T5.TEL_0 AS N'联系电话', T1.DEMDLVDAT_0 AS N'要求发货日期', T3.TSICOD_0 AS N'事业部', T3.TCLCOD_0 AS N'类别', T2.BPCADDLIG_0 AS N'地址'FROM SORDERQ T1 LEFT JOIN SORDER T2 ON T1.SOHNUM_0 = T2.SOHNUM_0 LEFT JOIN ITMMASTER T3 ON T1.ITMREF_0 = T3.ITMREF_0 LEFT JOIN CONTACTCRM T4 ON T2.CNTNAM_0 = T4.CNTNUM_0 LEFT JOIN CONTACT T5 ON T2.BPCORD_0 = T5.BPANUM_0 AND T2.CNTNAM_0 = T5.CCNCRM_0 WHERE T1.SALFCY_0 = '0101'AND T1.SOQSTA_0 <> '3'AND T2.ORDSTA_0 = '1' AND T1.SOHNUM_0 = N'N'CHN-SH-4037'' AND T1.CREUSR_0 = N'N'0101SOH17080062'' AND T2.REP_0 = N'N'CHN-SH-4037'' AND T1.ITMREF_0 = N'N
'上海沪工焊接集团股份有限公司'' AND T1.CREDAT_0 BETWEEN N'N'IOE6975-01'' AND N'N'焊枪/TIG150/4M/8mmq M16x1.5/HUGO'' AND (T1.ZRMK_0 LIKE N'%N'7'%' OR T1.ZCUSNUM_0 LIKE N'%N'7'%' OR T1.ZCUSNUM_0 LIKE N'%N'7'%' OR T1.ZCUSNUMLIN_0 LIKE N'%N'7'%' OR T2.ZREMARK_0 LIKE N'%N'7'%' OR T2.ZCUSNUMH_0 LIKE N'%N'7'%')



SELECT TOP 1000 T1.SOHNUM_0 AS N'销售订单号',
					T1.BPCORD_0 AS N'客户编码',
					T2.BPCNAM_0 AS N'客户名称',
					T1.ITMREF_0 AS N'产品编码',
					T3.ITMDES1_0 AS N'产品名称',
					T1.QTY_0 AS N'订单数量',
					T1.DLVQTY_0 AS N'已发货数量',
					(T1.QTY_0 - T1.DLVQTY_0) AS N'待发货数量',
					T1.ZRMK_0 AS N'备注',
					T1.ZCUSNUM_0 AS N'客户订单号',
					T1.ZCUSNUMLIN_0 AS N'客户订单行号',
					T2.ZREMARK_0 AS N'摘要',
					T2.ZCUSNUMH_0 AS N'摘要',
					T4.CNTLNA_0 AS N'联系人',
					T4.CNTMOB_0 AS N'联系人电话',
					T5.TEL_0 AS N'联系电话', 
					T1.DEMDLVDAT_0 AS N'要求发货日期', 
					T3.TSICOD_0 AS N'事业部', 
					T3.TCLCOD_0 AS N'类别', 
					T2.BPCADDLIG_0 AS N'地址'
FROM SORDERQ T1 
	LEFT JOIN SORDER T2 ON T1.SOHNUM_0 = T2.SOHNUM_0 
	LEFT JOIN ITMMASTER T3 ON T1.ITMREF_0 = T3.ITMREF_0 
	LEFT JOIN CONTACTCRM T4 ON T2.CNTNAM_0 = T4.CNTNUM_0 
	LEFT JOIN CONTACT T5 ON T2.BPCORD_0 = T5.BPANUM_0 AND T2.CNTNAM_0 = T5.CCNCRM_0 
WHERE T1.SALFCY_0 = '0101'AND T1.SOQSTA_0 <> '3'AND T2.ORDSTA_0 = '1' AND T2.BPCNAM_0 LIKE N'%沪工%'


INSERT INTO ZTSDELIVERYD (SOHNUM_0,BPCORD_0,BPCNAM_0,ITMREF_0,ITMDES1_0,QTY_0,DLVQTY_0,LFTQTY_0,ZRMK_0_0,ZCUSNUM_0,ZCUSNUMLIN_0,ZREMARK_0,ZCUSNUMH_0,CNTLNA_0,CNTMOB_0,TEL_0,DEMDLVDAT_0,TSICOD_0,TCLCOD_0,BPCADDLIG_0,CREDATTIM_0,UPDDATTIM_0,AUUID_0,CREUSR_0,UPDUSR_0) Values(N'0101SOH17080092',N'CHN-SH-4037',N'上海沪工焊接集团股份有限公司',N'ICT2098-34',N'焊枪15AK/3米/弹性针/GRIP/INNO/蓝色手柄/H',N'20',N'0',N'20',N'2.20.08.861',N'3003-20170800110',N'0',N' ',N' ',N'邹伟梅',N'13764891773',N'021-59715999',N'2017/8/15',N'1',N'CP',N'上海市青浦区外青松路7177号',GETDATE(),GETDATE(),NEWID(),N'0078',N'0078')

SELECT* FROM SORDERQ
SELECT * FROM ZTSDELIVERYD

SELECT TOP 1000 
		T1.SOHNUM_0 N'销售订单号',
		T1.BPCORD_0 N'客户代码',
		T1.BPCNAM_0 N'客户名称',
		T1.ITMREF_0 N'产品代码',
		T1.ITMDES1_0 N'产品名称',
		T1.QTY_0 N'订单数量',
		T1.DLVQTY_0 N'已发货数量',
		T1.LFTQTY_0 N'待发数量',
		T1.RETQTY_0 N'本次通知数量',
		T1.ZRMK_0 N'摘要',
		T1.ZCUSNUM_0 N'客户订单号'
FROM ZTSDELIVERYD T1

INSERT INTO ZTSDELIVERYD (SOHNUM_0,BPCORD_0,BPCNAM_0,ITMREF_0,ITMDES1_0,QTY_0,DLVQTY_0,RETQTY_0,ZRMK_0,ZCUSNUM_0,ZCUSNUMLIN_0,ZREMARK_0,ZCUSNUMH_0,CNTLNA_0,CNTMOB_0,TEL_0,DEMDLVDAT_0,TSICOD_0,TCLCOD_0,BPCADDLIG_0,CREDATTIM_0,UPDDATTIM_0,AUUID_0,CREUSR_0,UPDUSR_0,LFTQTY_0) Values(N'0101SOH17050218',N'CHN-GD-4653',N'深圳市威勒科技股份有限公司',N'IIC0550',N'带绝缘层送丝管1,2-1,6/3.4米/黄色/1,O圆钢丝/带接头',N'9000',N'0',N'9000',N'销售提供专用包装包装',N' ',N'0',N'POWQTB2017yn006 ，中性英文标签，中性包装，客户专用袋上贴MADE IN CHINA',N' ',N'蔡静',N' ',N'18518512972',N'2017/5/22',N' ',N'MP',N'深圳市龙岗区平湖街道万福路12号宿舍楼一楼B部分',GETDATE(),GETDATE(),NEWID(),N'0010',N'0010',0)


SELECT * FROM SORDERP WHERE ITMREF_0 = 'ICV0047-01'